# Клиент для навыка умного дома Яндекс с Алисой

Клиент для работы контроллера Wiren Board с умным домом Яндекса.
Данный клиент:

- При старте читает статус активации из конфигурационного файла JSON
  и запускается только если клиент уже активирован (в конфиг файле
  `client_enabled` установлено как `true`)
- Берет адрес сервера из конфигурационного файла (server_domain)
- Считывает серийный номер контроллера из файла `/var/lib/wirenboard/short_sn.conf`

## Установка deb пакета на контроллер

Запустить установку из файла

```terminal
$ apt install ./wb-mqtt-alice_0.0.1_all.deb
```

Заполнить файл настроек для клиента:

```terminal
$ nano /etc/wb-mqtt-alice-client.conf
```

Данные об адресе сервера (server_address) можно получить у администратора
навыка умного дома Яндекс.

Перезапустить сервис wb-alice-client, для применения изменений настроек

```terminal
$ sudo systemctl restart wb-alice-client.service
```

После применения этих настроек сервис клиента будет автоматически запускаться
при старте контроллера и подключаться к сервисам умного дома Яндекса.

Для просмотра логов сервиса удобно использовать `journalctl`:

```terminal
$ journalctl -u wb-alice-client.service -f
```
